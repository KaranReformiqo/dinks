var v=Object.defineProperty;var l=s=>{throw TypeError(s)};var b=(s,e,t)=>e in s?v(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var c=(s,e,t)=>b(s,typeof e!="symbol"?e+"":e,t),f=(s,e,t)=>e.has(s)||l("Cannot "+t);var a=(s,e,t)=>(f(s,e,"read from private field"),t?t.call(s):e.get(s)),n=(s,e,t)=>e.has(s)?l("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(s):e.set(s,t),h=(s,e,t,r)=>(f(s,e,"write to private field"),r?r.call(s,t):e.set(s,t),t);import{a as p}from"./props.CqX_l_5a.js";import{j as w,g as y,k as I,a as m}from"./runtime.aayF27iC.js";import{w as S}from"./entry.Cxm_KXad.js";function g(s){return JSON.stringify(s)}function k(s){return JSON.parse(s)}var o,i;class V{constructor(e,t,r){n(this,o,w());c(this,"key","");n(this,i,S());this.key=e,this.value=t,h(this,i,S(t));{const u=x(e);u&&(this.value=u)}m(()=>{sessionStorage.setItem(this.key,g(this.value))}),m(()=>{a(this,i).set(this.value)}),r&&r(this.set)}get value(){return y(a(this,o))}set value(e){I(a(this,o),p(e))}subscribe(e){a(this,i).subscribe(t=>{e(t)})}set(e){this.value=e}}o=new WeakMap,i=new WeakMap;function d(s,e,t){return new V(s,e,t)}function x(s){let e=null;{const t=sessionStorage.getItem(s);t&&(e=k(t))}return e}function j(s,e){sessionStorage.setItem(s,g(e))}function L(s){sessionStorage.removeItem(s)}export{x as g,d as l,L as r,j as s};
