import"./index.DRBTOXdQ.js";const x="https://dinkstest.erpera.io";async function b(e,m={},T=fetch){var c,y,h,n,u,s,w,g;typeof e=="string"&&(e=new URL(e,x));const{body:i,formBody:o,...p}=m,a=new Headers(p.headers);a.has("Content-Type")||(o&&typeof o=="string"?a.set("Content-Type","application/x-www-form-urlencoded"):i&&a.set("Content-Type","application/json")),a.set("Accept","application/json");const l={method:"GET",headers:a,credentials:"include",...p};(i||o)&&(l.body=o||JSON.stringify(i),console.log("options.body",{body:i,formBody:o}));let r;try{r=await T(e,l)}catch(d){return console.error("Fetch Error",e,d),{data:null,error:"Failed connecting",status:0}}let f="",t;try{t=await r.json()}catch{}if(!r.ok){const d=((g=(w=(s=(u=(n=(h=(y=(c=t==null?void 0:t.exception)==null?void 0:c.split)==null?void 0:y.call(c,":"))==null?void 0:h[0])==null?void 0:n.split)==null?void 0:u.call(n,"."))==null?void 0:s.reverse)==null?void 0:w.call(s))==null?void 0:g[0])||(t==null?void 0:t.exc_type)||"Fetch Error";console.error(d,e,r.status,t),f=t||""}return{data:r.ok?(t==null?void 0:t.data)||(t==null?void 0:t.message)||t:null,error:f,status:r.status}}export{x as P,b as f};
