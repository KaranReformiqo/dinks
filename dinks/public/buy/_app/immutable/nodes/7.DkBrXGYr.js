import{g as s,s as m}from"../chunks/localStore.svelte.CDHequDN.js";import{r as i}from"../chunks/index.De_1-CT6.js";import{f as n}from"../chunks/fetcher.4lFdTOTx.js";import"../chunks/disclose-version.BIyVqMZ8.js";import{p,a as u}from"../chunks/runtime.DQwr1dzu.js";import{D as c}from"../chunks/dink-bg.gkRPRQFX.js";import{C as l}from"../chunks/Container.CbVs3Ov9.js";import{o as b}from"../chunks/index-client.BB2O3VKd.js";import{g as f}from"../chunks/entry.D73BxDQa.js";const d=async({url:t,parent:o})=>{await o();const e=s("member");if(!e)throw i(300,"/buy/become-a-member");const{data:{subscription:r,customer:a}}=await n("/api/method/dinks.api.register_member",{method:"POST",body:e});return m("membershipId",r),{customer:a,subscription:r,p:t.searchParams.get("razorpay_invoice_status")!=="paid"?0:1}},O=Object.freeze(Object.defineProperty({__proto__:null,load:d},Symbol.toStringTag,{value:"Module"}));function T(t,o){p(o,!0),b(()=>{setTimeout(()=>{const e=new URLSearchParams({...o.data||{}});f("/buy/become-a-member/your-booking?"+e)},2e3)}),l(t,{children:(e,r)=>{c(e,{class:"absolute left-0 top-0 h-full w-full"})},$$slots:{default:!0}}),u()}export{T as component,O as universal};
